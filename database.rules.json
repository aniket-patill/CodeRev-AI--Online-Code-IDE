{
  "rules": {
    "workspaces": {
      "$workspaceId": {
        "cursors": {
          ".read": "auth != null",
          ".write": "auth != null"
        },
        "voice": {
          "participants": {
            "$userId": {
              ".read": "auth != null",
              ".write": "auth != null && auth.uid == $userId"
            }
          },
          "signaling": {
            "$toUserId": {
              ".read": "auth != null && auth.uid == $toUserId",
              "$fromUserId": {
                ".read": "auth != null && (auth.uid == $toUserId || auth.uid == $fromUserId)",
                ".write": "auth != null && auth.uid == $fromUserId"
              }
            }
          }
        }
      }
    }
  }
}

